#!/usr/bin/env node

/**!
 * cnpm - bin/cnpm-search
 *
 * Copyright(c) cnpmjs.org and other contributors.
 * MIT Licensed
 *
 * Authors:
 *  dead_horse <dead_horse@qq.com> (http://deadhorse.me)
 */

'use strict';

/**
 * Module dependencies.
 */

var open = require('open');
var argv = require('../parse_argv')();
var searchurl = argv.registryweb + '/browse/keyword/' + argv.args[1];

open(searchurl, function (err, stdout, stderr) {
  if (err) {
    console.log('Can not open browser, please open your browser to visit: ' + searchurl);
    process.exit(0);
  }
  if (stdout || stderr) {
    console.log(stdout, stderr);
  }
  process.exit(0);
});
